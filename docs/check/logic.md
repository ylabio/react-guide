# Логика приложения

1. Декомпозируется по паттерну MVC. 
    - Состояние приложения — модель, 
    - Глупые компоненты — вид, 
    - Контейнеры в том числе в `/app` - контроллеры. 
2. Использовать функциональный стиль на хуках. 
3. Инициализация раздела всегда в хуке `useInit()` и только в контейнерах `/app`
    - Асинхронная логика
    - Например, таблица товаров вынесена в отдельный контейнер, а нем данные берутся из состояния приложения. При этом список товаров инициализируются (по апи) в соответствующем разделе `/app`. 
4. Выбираемые из состояния данные объединять в переменной `select`. 
    - Использовать хук `useSelectorMap()`
5. Все колбеки объединять в объекте `callbacks`
6. Опции для выпадашек, табов и прочего, что подготавливается перед рендером, объединять в переменной `options`.
7. Если рендер декомпозируется на отдельные функции, то попытаться вынести их в отдельные компоненты. Иначе объединить в переменной `renders`.



6. Модуль состояния разрабатывается по принципу “источник данных”.
    - В состоянии сами данные, параметры по которым они получены и метаданные про ошибки, ожидание и прочее.
    - Чтобы модуль загрузил/обновил данные по апи, выполняется установка параметров. Смена параметров приводит к актуализации данных в соответствии с новыми параметрами. 
    - Параметры могут быть запомнены и впоследствии восстановлены из `localStorage` (например, токен авторизации) или `location.search` (параметры фильтра).
    - Практически все действия пользователя — это смена параметров. Смена поискового поля — установка параметра.
    - Контейнеру не надо вызывать загрузку данные, его задача, обычно, установить параметр.
    - Инициализация модуля — это загрузка данных по начальным параметрам. Именно это делается в хуке `useInit()`. При инициализации можно передать новые параметры.
