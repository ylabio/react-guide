# Стиль кода

1. Общие правила определены в `eslint`, могут меняться по согласованию участников проекта.
2. Для авто форматирования кода используется `prettier`.
3. Отступы в коде - 2 пробела.
4. Названия файлов и директорий в нижнем регистре через дефис. kebab стиль. `/some-name/index.js`.
5. Файлы компонент, модулей и потенциально расширяемых на несколько файлов частей кода, группируются в директории.
    - Название директории - это название компонента или модуля.
    - Файлы внутри директории не должны содержать названия компонента или модуля. Их названия - это именования составных частей: `index.js`, `actions.js`, `style.less`, `favicon.png`
    ```
    articles
    ├──state.js
    ├──actions.js 
    └──reducer.js
    ...
    button
    ├──index.js
    ├──style.less 
    └──checked.svg
    ```
6. В одном файле кода содержится логика с однозначным назначением, не должно быть кучи всего в одном месте.
7. Упорядочивать функции в классе (объекте) по приоритету и последовательности исполнения. 
    - Чтобы логика читалась сверху внизу, а не хаотично. 
    - Открыв файл желательно сразу увидеть его главную функцию. 
    - Второстепенные функции лучше описывать внизу. 
    - Но также учитывать порядок исполнения функций. Например, рендер - это последнее, что делает компонент, и эту функцию мы всегда ищем в конце файла.
8. Логика должна быть четко сгруппирована на логические блоки. 
    - Получение данных, описание колбэков, инициализация опций, вынесенные функции-рендеры.
    - Ни в коем случаи не писать где попало новый хук, объявлять переменную или выполнять импорт. 
    - Разработчик должен интуитивно знать, где искать определение функции или переменной.
    - Не стремиться развертывать свойства объекта в переменные, так как ниже по коду сложнее сориентироваться от куда переменная.
 
9. Импорт файлов приложения через алиас `"@"` вместо относительных путей. Пути алиаса указываются в `package.json`.
10. Комментировать строки кода, если логика неочевидная, не типовая, сложная. 
11. Комментировать назначение функций в [jsDoc](https://ru.wikipedia.org/wiki/JSDoc) формате: краткое описание, параметры `@param`, возвращаемое значение `@return` и другие опционально.

```js
import CustomOption from '@components/elements/custom-option';
/**
 * Пример компонента с логическими блоками
 * @param props {Object} Свойства компонента
 * @return {Object}
 */
function SomeCompoennt(props){

    // Состояние из redux
    const select = useSelectorMap(state => ({
       active: state.categories.active
    }));

    // Функции обратного вызова
    const callbacks = {
      onClick: useCallback(()=>{...}, []),
      onSubmit: useCallback(()=>{...}, []),
    }

    // Замороженные опции
    const options = {
      items: useMemo(()=>{...}, [])
    }

    // Отдельные функции рендера
    const renders = {
      item: useCallback((itemProps)=>(<CustomOption {...itemProps}/>), []),
    }

    return (
      <select onClick={callbacks.onClick} className={themes('Select', {'disabled': props.disabled})}>
          {options.items.map(item => (renders.item(item)))}
      </div>
    )
}
